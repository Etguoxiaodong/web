<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
    <title>添加业主</title>
    <link rel="icon" href="../img/unicom.png">
    <link rel="stylesheet" type="text/css" href="../css/webbase.css" />
    <link rel="stylesheet" type="text/css" href="../css/pages-register.css" />
</head>

<body>
<div id="app">
    <div class="register py-container ">

        <div class="registerArea">
            <h3>添加业主</h3>
            <div class="info" style="margin: 20px 299px">
                <form class="sui-form form-horizontal">

                    <div class="control-group">
                        <label class="control-label">姓名：</label>
                        <div class="controls">
                            <input type="text" v-model="owner.name" placeholder="姓名" class="input-xfat input-xlarge">
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label">联系电话：</label>
                        <div class="controls">
                            <input type="text" v-model="owner.phone" placeholder="手机号" class="input-xfat input-xlarge">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label">备用号码：</label>
                        <div class="controls">
                            <input type="text" v-model="owner.backphone" placeholder="备用号码" class="input-xfat input-xlarge">
                        </div>
                    </div>

                    <!--<div class="control-group">
                        <label class="control-label">住址：</label>
                        <div class="controls">
                            <input type="text" v-model="owner.addres" placeholder="住址" class="input-xfat input-xlarge">
                        </div>
                    </div>-->
                    <div class="control-group">
                        <label class="control-label"></label>
                        <div class="controls btn-reg">
                            <a class="sui-btn btn-block btn-xlarge btn-danger" @click="add()" target="_blank">确认添加</a>
                        </div>
                    </div>
                </form>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>

</body>
<script type="text/javascript" src="../plugins/vue/vuejs-2.5.16.js"></script>
<script type="text/javascript" src="../plugins/vue/axios-0.18.0.js"></script>
<script>
    new Vue({
        el: "#app",
        data: {
            owner:{}
        },
        methods: {
            add:function () {
                axios.post("/owner/add.do",this.owner)
                    .then(function (response) {
                        if(response.data.success == true){
                            /*console.log(response);*/
                            alert(response.data.message);
                            location.href="owner_list.html";
                        }else {
                            alert(response.data.message)
                        }
                    }).catch(function (reason) {
                    console.log(reason);
                })
            }
        }
    });
</script>

</html>